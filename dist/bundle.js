/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/api/client.ts":
/*!***************************!*\
  !*** ./src/api/client.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ApiClient = void 0;\nconst node_fetch_commonjs_1 = __importDefault(__webpack_require__(/*! node-fetch-commonjs */ \"node-fetch-commonjs\"));\nconst config_1 = __importDefault(__webpack_require__(/*! ../config */ \"./src/config.ts\"));\nconst errors_1 = __webpack_require__(/*! ../errors */ \"./src/errors.ts\");\nconst types_1 = __webpack_require__(/*! ./types */ \"./src/api/types.ts\");\nclass ApiClient {\n    async browseBoards() {\n        const url = `${config_1.default.api.host}/${ApiClient.BASE_URL}/boards`;\n        const response = await (0, node_fetch_commonjs_1.default)(url);\n        if (response.status !== 200) {\n            throw new errors_1.ApiError(response.status, response.statusText);\n        }\n        const data = (await response.json());\n        return data.items.map(types_1.convertBoardDtoToModel);\n    }\n    async readBoard(slug) {\n        const url = `${config_1.default.api.host}/${ApiClient.BASE_URL}/boards/${slug}`;\n        const response = await (0, node_fetch_commonjs_1.default)(url);\n        if (response.status !== 200) {\n            throw new errors_1.ApiError(response.status, response.statusText);\n        }\n        const data = (await response.json());\n        return (0, types_1.convertBoardDtoToModel)(data.item);\n    }\n    async browseThreads(slug) {\n        const url = `${config_1.default.api.host}/${ApiClient.BASE_URL}/boards/${slug}/threads`;\n        const response = await (0, node_fetch_commonjs_1.default)(url);\n        if (response.status !== 200) {\n            throw new errors_1.ApiError(response.status, response.statusText);\n        }\n        const data = (await response.json());\n        return data.items.map(types_1.convertThreadDtoToModel);\n    }\n    async readThread(slug, threadId) {\n        const url = `${config_1.default.api.host}/${ApiClient.BASE_URL}/boards/${slug}/threads/${threadId}`;\n        const response = await (0, node_fetch_commonjs_1.default)(url);\n        if (response.status !== 200) {\n            throw new errors_1.ApiError(response.status, response.statusText);\n        }\n        const data = (await response.json());\n        return (0, types_1.convertThreadDtoToModel)(data.item);\n    }\n    async browsePosts(slug, threadId) {\n        const url = `${config_1.default.api.host}/${ApiClient.BASE_URL}/boards/${slug}/threads/${threadId}/posts`;\n        const response = await (0, node_fetch_commonjs_1.default)(url);\n        if (response.status !== 200) {\n            throw new errors_1.ApiError(response.status, response.statusText);\n        }\n        const data = (await response.json());\n        return data.items.map(types_1.convertPostDtoToModel);\n    }\n}\nexports.ApiClient = ApiClient;\nApiClient.BASE_URL = 'api/v1';\nexports[\"default\"] = ApiClient;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2NsaWVudC50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQjtBQUNqQiw4Q0FBOEMsbUJBQU8sQ0FBQyxnREFBcUI7QUFDM0UsaUNBQWlDLG1CQUFPLENBQUMsa0NBQVc7QUFDcEQsaUJBQWlCLG1CQUFPLENBQUMsa0NBQVc7QUFDcEMsZ0JBQWdCLG1CQUFPLENBQUMsbUNBQVM7QUFDakM7QUFDQTtBQUNBLHVCQUF1QiwwQkFBMEIsR0FBRyxtQkFBbUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwQkFBMEIsR0FBRyxtQkFBbUIsVUFBVSxLQUFLO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMEJBQTBCLEdBQUcsbUJBQW1CLFVBQVUsS0FBSztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDBCQUEwQixHQUFHLG1CQUFtQixVQUFVLEtBQUssV0FBVyxTQUFTO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMEJBQTBCLEdBQUcsbUJBQW1CLFVBQVUsS0FBSyxXQUFXLFNBQVM7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGxld2Qtc2l0ZS9pbWFnZWJvYXJkLXNzci8uL3NyYy9hcGkvY2xpZW50LnRzPzFlNjkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFwaUNsaWVudCA9IHZvaWQgMDtcbmNvbnN0IG5vZGVfZmV0Y2hfY29tbW9uanNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwibm9kZS1mZXRjaC1jb21tb25qc1wiKSk7XG5jb25zdCBjb25maWdfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vY29uZmlnXCIpKTtcbmNvbnN0IGVycm9yc18xID0gcmVxdWlyZShcIi4uL2Vycm9yc1wiKTtcbmNvbnN0IHR5cGVzXzEgPSByZXF1aXJlKFwiLi90eXBlc1wiKTtcbmNsYXNzIEFwaUNsaWVudCB7XG4gICAgYXN5bmMgYnJvd3NlQm9hcmRzKCkge1xuICAgICAgICBjb25zdCB1cmwgPSBgJHtjb25maWdfMS5kZWZhdWx0LmFwaS5ob3N0fS8ke0FwaUNsaWVudC5CQVNFX1VSTH0vYm9hcmRzYDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCAoMCwgbm9kZV9mZXRjaF9jb21tb25qc18xLmRlZmF1bHQpKHVybCk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkFwaUVycm9yKHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YSA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICByZXR1cm4gZGF0YS5pdGVtcy5tYXAodHlwZXNfMS5jb252ZXJ0Qm9hcmREdG9Ub01vZGVsKTtcbiAgICB9XG4gICAgYXN5bmMgcmVhZEJvYXJkKHNsdWcpIHtcbiAgICAgICAgY29uc3QgdXJsID0gYCR7Y29uZmlnXzEuZGVmYXVsdC5hcGkuaG9zdH0vJHtBcGlDbGllbnQuQkFTRV9VUkx9L2JvYXJkcy8ke3NsdWd9YDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCAoMCwgbm9kZV9mZXRjaF9jb21tb25qc18xLmRlZmF1bHQpKHVybCk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkFwaUVycm9yKHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YSA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICByZXR1cm4gKDAsIHR5cGVzXzEuY29udmVydEJvYXJkRHRvVG9Nb2RlbCkoZGF0YS5pdGVtKTtcbiAgICB9XG4gICAgYXN5bmMgYnJvd3NlVGhyZWFkcyhzbHVnKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IGAke2NvbmZpZ18xLmRlZmF1bHQuYXBpLmhvc3R9LyR7QXBpQ2xpZW50LkJBU0VfVVJMfS9ib2FyZHMvJHtzbHVnfS90aHJlYWRzYDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCAoMCwgbm9kZV9mZXRjaF9jb21tb25qc18xLmRlZmF1bHQpKHVybCk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkFwaUVycm9yKHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YSA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICByZXR1cm4gZGF0YS5pdGVtcy5tYXAodHlwZXNfMS5jb252ZXJ0VGhyZWFkRHRvVG9Nb2RlbCk7XG4gICAgfVxuICAgIGFzeW5jIHJlYWRUaHJlYWQoc2x1ZywgdGhyZWFkSWQpIHtcbiAgICAgICAgY29uc3QgdXJsID0gYCR7Y29uZmlnXzEuZGVmYXVsdC5hcGkuaG9zdH0vJHtBcGlDbGllbnQuQkFTRV9VUkx9L2JvYXJkcy8ke3NsdWd9L3RocmVhZHMvJHt0aHJlYWRJZH1gO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0ICgwLCBub2RlX2ZldGNoX2NvbW1vbmpzXzEuZGVmYXVsdCkodXJsKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuQXBpRXJyb3IocmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgIHJldHVybiAoMCwgdHlwZXNfMS5jb252ZXJ0VGhyZWFkRHRvVG9Nb2RlbCkoZGF0YS5pdGVtKTtcbiAgICB9XG4gICAgYXN5bmMgYnJvd3NlUG9zdHMoc2x1ZywgdGhyZWFkSWQpIHtcbiAgICAgICAgY29uc3QgdXJsID0gYCR7Y29uZmlnXzEuZGVmYXVsdC5hcGkuaG9zdH0vJHtBcGlDbGllbnQuQkFTRV9VUkx9L2JvYXJkcy8ke3NsdWd9L3RocmVhZHMvJHt0aHJlYWRJZH0vcG9zdHNgO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0ICgwLCBub2RlX2ZldGNoX2NvbW1vbmpzXzEuZGVmYXVsdCkodXJsKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuQXBpRXJyb3IocmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgIHJldHVybiBkYXRhLml0ZW1zLm1hcCh0eXBlc18xLmNvbnZlcnRQb3N0RHRvVG9Nb2RlbCk7XG4gICAgfVxufVxuZXhwb3J0cy5BcGlDbGllbnQgPSBBcGlDbGllbnQ7XG5BcGlDbGllbnQuQkFTRV9VUkwgPSAnYXBpL3YxJztcbmV4cG9ydHMuZGVmYXVsdCA9IEFwaUNsaWVudDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/client.ts\n");

/***/ }),

/***/ "./src/api/types.ts":
/*!**************************!*\
  !*** ./src/api/types.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.convertFileDtoToModel = exports.convertPostDtoToModel = exports.convertThreadDtoToModel = exports.convertBoardDtoToModel = void 0;\nconst board_1 = __importDefault(__webpack_require__(/*! ../models/board */ \"./src/models/board.ts\"));\nconst file_1 = __importDefault(__webpack_require__(/*! ../models/file */ \"./src/models/file.ts\"));\nconst post_1 = __importDefault(__webpack_require__(/*! ../models/post */ \"./src/models/post.ts\"));\nconst thread_1 = __importDefault(__webpack_require__(/*! ../models/thread */ \"./src/models/thread.ts\"));\nfunction convertBoardDtoToModel(board) {\n    return new board_1.default(board.slug, board.title, new Date(board.created_at), +board.post_count);\n}\nexports.convertBoardDtoToModel = convertBoardDtoToModel;\nfunction convertThreadDtoToModel(thread) {\n    return new thread_1.default(+thread.id, thread.slug, thread.subject, thread.name, thread.tripcode, thread.message, thread.message_parsed, thread.files.map(convertFileDtoToModel), new Date(thread.created_at), new Date(thread.bumped_at), +thread.post_count);\n}\nexports.convertThreadDtoToModel = convertThreadDtoToModel;\nfunction convertPostDtoToModel(post) {\n    return new post_1.default(+post.id, post.slug, +post.parent_id, post.name, post.tripcode, post.message, post.message_parsed, post.files.map(convertFileDtoToModel), new Date(post.created_at));\n}\nexports.convertPostDtoToModel = convertPostDtoToModel;\nfunction convertFileDtoToModel(file) {\n    return new file_1.default(file.hash, file.name, file.extension, file.path, file.type, +file.size, file.width ? +file.width : null, file.height ? +file.height : null, file.length ? +file.length : null, new Date(file.created_at));\n}\nexports.convertFileDtoToModel = convertFileDtoToModel;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL3R5cGVzLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsNkJBQTZCLEdBQUcsNkJBQTZCLEdBQUcsK0JBQStCLEdBQUcsOEJBQThCO0FBQ2hJLGdDQUFnQyxtQkFBTyxDQUFDLDhDQUFpQjtBQUN6RCwrQkFBK0IsbUJBQU8sQ0FBQyw0Q0FBZ0I7QUFDdkQsK0JBQStCLG1CQUFPLENBQUMsNENBQWdCO0FBQ3ZELGlDQUFpQyxtQkFBTyxDQUFDLGdEQUFrQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbGV3ZC1zaXRlL2ltYWdlYm9hcmQtc3NyLy4vc3JjL2FwaS90eXBlcy50cz8zMDEzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb252ZXJ0RmlsZUR0b1RvTW9kZWwgPSBleHBvcnRzLmNvbnZlcnRQb3N0RHRvVG9Nb2RlbCA9IGV4cG9ydHMuY29udmVydFRocmVhZER0b1RvTW9kZWwgPSBleHBvcnRzLmNvbnZlcnRCb2FyZER0b1RvTW9kZWwgPSB2b2lkIDA7XG5jb25zdCBib2FyZF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9tb2RlbHMvYm9hcmRcIikpO1xuY29uc3QgZmlsZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9tb2RlbHMvZmlsZVwiKSk7XG5jb25zdCBwb3N0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL21vZGVscy9wb3N0XCIpKTtcbmNvbnN0IHRocmVhZF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9tb2RlbHMvdGhyZWFkXCIpKTtcbmZ1bmN0aW9uIGNvbnZlcnRCb2FyZER0b1RvTW9kZWwoYm9hcmQpIHtcbiAgICByZXR1cm4gbmV3IGJvYXJkXzEuZGVmYXVsdChib2FyZC5zbHVnLCBib2FyZC50aXRsZSwgbmV3IERhdGUoYm9hcmQuY3JlYXRlZF9hdCksICtib2FyZC5wb3N0X2NvdW50KTtcbn1cbmV4cG9ydHMuY29udmVydEJvYXJkRHRvVG9Nb2RlbCA9IGNvbnZlcnRCb2FyZER0b1RvTW9kZWw7XG5mdW5jdGlvbiBjb252ZXJ0VGhyZWFkRHRvVG9Nb2RlbCh0aHJlYWQpIHtcbiAgICByZXR1cm4gbmV3IHRocmVhZF8xLmRlZmF1bHQoK3RocmVhZC5pZCwgdGhyZWFkLnNsdWcsIHRocmVhZC5zdWJqZWN0LCB0aHJlYWQubmFtZSwgdGhyZWFkLnRyaXBjb2RlLCB0aHJlYWQubWVzc2FnZSwgdGhyZWFkLm1lc3NhZ2VfcGFyc2VkLCB0aHJlYWQuZmlsZXMubWFwKGNvbnZlcnRGaWxlRHRvVG9Nb2RlbCksIG5ldyBEYXRlKHRocmVhZC5jcmVhdGVkX2F0KSwgbmV3IERhdGUodGhyZWFkLmJ1bXBlZF9hdCksICt0aHJlYWQucG9zdF9jb3VudCk7XG59XG5leHBvcnRzLmNvbnZlcnRUaHJlYWREdG9Ub01vZGVsID0gY29udmVydFRocmVhZER0b1RvTW9kZWw7XG5mdW5jdGlvbiBjb252ZXJ0UG9zdER0b1RvTW9kZWwocG9zdCkge1xuICAgIHJldHVybiBuZXcgcG9zdF8xLmRlZmF1bHQoK3Bvc3QuaWQsIHBvc3Quc2x1ZywgK3Bvc3QucGFyZW50X2lkLCBwb3N0Lm5hbWUsIHBvc3QudHJpcGNvZGUsIHBvc3QubWVzc2FnZSwgcG9zdC5tZXNzYWdlX3BhcnNlZCwgcG9zdC5maWxlcy5tYXAoY29udmVydEZpbGVEdG9Ub01vZGVsKSwgbmV3IERhdGUocG9zdC5jcmVhdGVkX2F0KSk7XG59XG5leHBvcnRzLmNvbnZlcnRQb3N0RHRvVG9Nb2RlbCA9IGNvbnZlcnRQb3N0RHRvVG9Nb2RlbDtcbmZ1bmN0aW9uIGNvbnZlcnRGaWxlRHRvVG9Nb2RlbChmaWxlKSB7XG4gICAgcmV0dXJuIG5ldyBmaWxlXzEuZGVmYXVsdChmaWxlLmhhc2gsIGZpbGUubmFtZSwgZmlsZS5leHRlbnNpb24sIGZpbGUucGF0aCwgZmlsZS50eXBlLCArZmlsZS5zaXplLCBmaWxlLndpZHRoID8gK2ZpbGUud2lkdGggOiBudWxsLCBmaWxlLmhlaWdodCA/ICtmaWxlLmhlaWdodCA6IG51bGwsIGZpbGUubGVuZ3RoID8gK2ZpbGUubGVuZ3RoIDogbnVsbCwgbmV3IERhdGUoZmlsZS5jcmVhdGVkX2F0KSk7XG59XG5leHBvcnRzLmNvbnZlcnRGaWxlRHRvVG9Nb2RlbCA9IGNvbnZlcnRGaWxlRHRvVG9Nb2RlbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/types.ts\n");

/***/ }),

/***/ "./src/app.ts":
/*!********************!*\
  !*** ./src/app.ts ***!
  \********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createApp = void 0;\nconst koa_1 = __importDefault(__webpack_require__(/*! koa */ \"koa\"));\nconst koa_router_1 = __importDefault(__webpack_require__(/*! koa-router */ \"koa-router\"));\nconst koa_helmet_1 = __importDefault(__webpack_require__(/*! koa-helmet */ \"koa-helmet\"));\nconst koa_conditional_get_1 = __importDefault(__webpack_require__(/*! koa-conditional-get */ \"koa-conditional-get\"));\nconst koa_etag_1 = __importDefault(__webpack_require__(/*! koa-etag */ \"koa-etag\"));\nconst koa_static_1 = __importDefault(__webpack_require__(/*! koa-static */ \"koa-static\"));\nconst board_controller_1 = __webpack_require__(/*! ./controllers/board-controller */ \"./src/controllers/board-controller.ts\");\nconst client_1 = __importDefault(__webpack_require__(/*! ./api/client */ \"./src/api/client.ts\"));\nconst post_controller_1 = __importDefault(__webpack_require__(/*! ./controllers/post-controller */ \"./src/controllers/post-controller.ts\"));\nconst MS_IN_WEEK = 1000 * 60 * 60 * 24 * 7;\nfunction createApp() {\n    const apiClient = new client_1.default();\n    const boardController = new board_controller_1.BoardController(apiClient);\n    const postController = new post_controller_1.default(apiClient);\n    const router = new koa_router_1.default();\n    router.get('/', boardController.index);\n    router.get('/:slug', boardController.show);\n    router.get('/:slug/res/:threadId', postController.index);\n    const app = new koa_1.default();\n    if (false) {}\n    app.use(koa_helmet_1.default.referrerPolicy());\n    app.use(koa_helmet_1.default.noSniff());\n    app.use(koa_helmet_1.default.dnsPrefetchControl());\n    app.use(koa_helmet_1.default.hidePoweredBy());\n    app.use((0, koa_conditional_get_1.default)());\n    app.use((0, koa_etag_1.default)());\n    app.use((0, koa_static_1.default)('public', { maxAge: MS_IN_WEEK }));\n    app.use(router.routes());\n    app.use(router.allowedMethods());\n    return app;\n}\nexports.createApp = createApp;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBwLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCLDhCQUE4QixtQkFBTyxDQUFDLGdCQUFLO0FBQzNDLHFDQUFxQyxtQkFBTyxDQUFDLDhCQUFZO0FBQ3pELHFDQUFxQyxtQkFBTyxDQUFDLDhCQUFZO0FBQ3pELDhDQUE4QyxtQkFBTyxDQUFDLGdEQUFxQjtBQUMzRSxtQ0FBbUMsbUJBQU8sQ0FBQywwQkFBVTtBQUNyRCxxQ0FBcUMsbUJBQU8sQ0FBQyw4QkFBWTtBQUN6RCwyQkFBMkIsbUJBQU8sQ0FBQyw2RUFBZ0M7QUFDbkUsaUNBQWlDLG1CQUFPLENBQUMseUNBQWM7QUFDdkQsMENBQTBDLG1CQUFPLENBQUMsMkVBQStCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxLQUFzQyxFQUFFLEVBYzNDO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9CQUFvQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL0BsZXdkLXNpdGUvaW1hZ2Vib2FyZC1zc3IvLi9zcmMvYXBwLnRzPzIzOTkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZUFwcCA9IHZvaWQgMDtcbmNvbnN0IGtvYV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJrb2FcIikpO1xuY29uc3Qga29hX3JvdXRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJrb2Etcm91dGVyXCIpKTtcbmNvbnN0IGtvYV9oZWxtZXRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwia29hLWhlbG1ldFwiKSk7XG5jb25zdCBrb2FfY29uZGl0aW9uYWxfZ2V0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImtvYS1jb25kaXRpb25hbC1nZXRcIikpO1xuY29uc3Qga29hX2V0YWdfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwia29hLWV0YWdcIikpO1xuY29uc3Qga29hX3N0YXRpY18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJrb2Etc3RhdGljXCIpKTtcbmNvbnN0IGJvYXJkX2NvbnRyb2xsZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRyb2xsZXJzL2JvYXJkLWNvbnRyb2xsZXJcIik7XG5jb25zdCBjbGllbnRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9hcGkvY2xpZW50XCIpKTtcbmNvbnN0IHBvc3RfY29udHJvbGxlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2NvbnRyb2xsZXJzL3Bvc3QtY29udHJvbGxlclwiKSk7XG5jb25zdCBNU19JTl9XRUVLID0gMTAwMCAqIDYwICogNjAgKiAyNCAqIDc7XG5mdW5jdGlvbiBjcmVhdGVBcHAoKSB7XG4gICAgY29uc3QgYXBpQ2xpZW50ID0gbmV3IGNsaWVudF8xLmRlZmF1bHQoKTtcbiAgICBjb25zdCBib2FyZENvbnRyb2xsZXIgPSBuZXcgYm9hcmRfY29udHJvbGxlcl8xLkJvYXJkQ29udHJvbGxlcihhcGlDbGllbnQpO1xuICAgIGNvbnN0IHBvc3RDb250cm9sbGVyID0gbmV3IHBvc3RfY29udHJvbGxlcl8xLmRlZmF1bHQoYXBpQ2xpZW50KTtcbiAgICBjb25zdCByb3V0ZXIgPSBuZXcga29hX3JvdXRlcl8xLmRlZmF1bHQoKTtcbiAgICByb3V0ZXIuZ2V0KCcvJywgYm9hcmRDb250cm9sbGVyLmluZGV4KTtcbiAgICByb3V0ZXIuZ2V0KCcvOnNsdWcnLCBib2FyZENvbnRyb2xsZXIuc2hvdyk7XG4gICAgcm91dGVyLmdldCgnLzpzbHVnL3Jlcy86dGhyZWFkSWQnLCBwb3N0Q29udHJvbGxlci5pbmRleCk7XG4gICAgY29uc3QgYXBwID0gbmV3IGtvYV8xLmRlZmF1bHQoKTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgYXBwLnVzZShrb2FfaGVsbWV0XzEuZGVmYXVsdC5jb250ZW50U2VjdXJpdHlQb2xpY3koe1xuICAgICAgICAgICAgZGlyZWN0aXZlczoge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRTcmM6IFsnc2VsZiddLFxuICAgICAgICAgICAgICAgIGJhc2VVcmk6IFsnc2VsZiddLFxuICAgICAgICAgICAgICAgIGZvbnRTcmM6IFsnc2VsZicsICdodHRwczonLCAnZGF0YTonXSxcbiAgICAgICAgICAgICAgICBmb3JtQWN0aW9uOiBbJ3NlbGYnXSxcbiAgICAgICAgICAgICAgICBmcmFtZUFuY2VzdG9yczogWydzZWxmJ10sXG4gICAgICAgICAgICAgICAgaW1nU3JjOiBbJ3NlbGYnLCAnZGF0YTonXSxcbiAgICAgICAgICAgICAgICBvYmplY3RTcmM6IFsnbm9uZSddLFxuICAgICAgICAgICAgICAgIHNjcmlwdFNyYzogWydzZWxmJ10sXG4gICAgICAgICAgICAgICAgc3R5bGVTcmM6IFsnc2VsZiddLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhcHAudXNlKGtvYV9oZWxtZXRfMS5kZWZhdWx0LnJlZmVycmVyUG9saWN5KCkpO1xuICAgIGFwcC51c2Uoa29hX2hlbG1ldF8xLmRlZmF1bHQubm9TbmlmZigpKTtcbiAgICBhcHAudXNlKGtvYV9oZWxtZXRfMS5kZWZhdWx0LmRuc1ByZWZldGNoQ29udHJvbCgpKTtcbiAgICBhcHAudXNlKGtvYV9oZWxtZXRfMS5kZWZhdWx0LmhpZGVQb3dlcmVkQnkoKSk7XG4gICAgYXBwLnVzZSgoMCwga29hX2NvbmRpdGlvbmFsX2dldF8xLmRlZmF1bHQpKCkpO1xuICAgIGFwcC51c2UoKDAsIGtvYV9ldGFnXzEuZGVmYXVsdCkoKSk7XG4gICAgYXBwLnVzZSgoMCwga29hX3N0YXRpY18xLmRlZmF1bHQpKCdwdWJsaWMnLCB7IG1heEFnZTogTVNfSU5fV0VFSyB9KSk7XG4gICAgYXBwLnVzZShyb3V0ZXIucm91dGVzKCkpO1xuICAgIGFwcC51c2Uocm91dGVyLmFsbG93ZWRNZXRob2RzKCkpO1xuICAgIHJldHVybiBhcHA7XG59XG5leHBvcnRzLmNyZWF0ZUFwcCA9IGNyZWF0ZUFwcDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/app.ts\n");

/***/ }),

/***/ "./src/config.ts":
/*!***********************!*\
  !*** ./src/config.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.config = void 0;\nconst dotenv_1 = __importDefault(__webpack_require__(/*! dotenv */ \"dotenv\"));\nconst process_1 = __webpack_require__(/*! process */ \"process\");\ndotenv_1.default.config();\nexports.config = {\n    api: {\n        host: process_1.env.API_HOST || 'http://127.0.0.1:3000',\n    },\n    dev: {\n        host: process_1.env.DEV_HOST || 'http://127.0.0.1:9000',\n    },\n    http: {\n        port: +(process_1.env.HTTP_PORT || 3001),\n    },\n    site: {\n        title: process_1.env.SITE_TITLE || 'Imageboard',\n    },\n};\nexports[\"default\"] = exports.config;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uZmlnLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsY0FBYztBQUNkLGlDQUFpQyxtQkFBTyxDQUFDLHNCQUFRO0FBQ2pELGtCQUFrQixtQkFBTyxDQUFDLHdCQUFTO0FBQ25DO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL0BsZXdkLXNpdGUvaW1hZ2Vib2FyZC1zc3IvLi9zcmMvY29uZmlnLnRzPzRhMGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbmZpZyA9IHZvaWQgMDtcbmNvbnN0IGRvdGVudl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJkb3RlbnZcIikpO1xuY29uc3QgcHJvY2Vzc18xID0gcmVxdWlyZShcInByb2Nlc3NcIik7XG5kb3RlbnZfMS5kZWZhdWx0LmNvbmZpZygpO1xuZXhwb3J0cy5jb25maWcgPSB7XG4gICAgYXBpOiB7XG4gICAgICAgIGhvc3Q6IHByb2Nlc3NfMS5lbnYuQVBJX0hPU1QgfHwgJ2h0dHA6Ly8xMjcuMC4wLjE6MzAwMCcsXG4gICAgfSxcbiAgICBkZXY6IHtcbiAgICAgICAgaG9zdDogcHJvY2Vzc18xLmVudi5ERVZfSE9TVCB8fCAnaHR0cDovLzEyNy4wLjAuMTo5MDAwJyxcbiAgICB9LFxuICAgIGh0dHA6IHtcbiAgICAgICAgcG9ydDogKyhwcm9jZXNzXzEuZW52LkhUVFBfUE9SVCB8fCAzMDAxKSxcbiAgICB9LFxuICAgIHNpdGU6IHtcbiAgICAgICAgdGl0bGU6IHByb2Nlc3NfMS5lbnYuU0lURV9USVRMRSB8fCAnSW1hZ2Vib2FyZCcsXG4gICAgfSxcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBleHBvcnRzLmNvbmZpZztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config.ts\n");

/***/ }),

/***/ "./src/controllers/board-controller.ts":
/*!*********************************************!*\
  !*** ./src/controllers/board-controller.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BoardController = void 0;\nconst lit_html_server_1 = __webpack_require__(/*! @popeindustries/lit-html-server */ \"@popeindustries/lit-html-server\");\nconst index_1 = __importDefault(__webpack_require__(/*! ../templates/pages/index */ \"./src/templates/pages/index.ts\"));\nconst board_1 = __importDefault(__webpack_require__(/*! ../templates/pages/board */ \"./src/templates/pages/board.ts\"));\nclass BoardController {\n    constructor(apiClient) {\n        this.apiClient = apiClient;\n        this.index = async (ctx) => {\n            const boards = await this.apiClient.browseBoards();\n            ctx.set('Content-Type', 'text/html');\n            ctx.body = (0, lit_html_server_1.renderToStream)((0, index_1.default)({ boards }));\n        };\n        this.show = async (ctx) => {\n            const slug = String(ctx.params.slug || '').trim();\n            const board = await this.apiClient.readBoard(slug);\n            const threads = await this.apiClient.browseThreads(slug);\n            ctx.set('Content-Type', 'text/html');\n            ctx.body = (0, lit_html_server_1.renderToStream)((0, board_1.default)({ board, threads }));\n        };\n    }\n}\nexports.BoardController = BoardController;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29udHJvbGxlcnMvYm9hcmQtY29udHJvbGxlci50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QjtBQUN2QiwwQkFBMEIsbUJBQU8sQ0FBQyx3RUFBaUM7QUFDbkUsZ0NBQWdDLG1CQUFPLENBQUMsZ0VBQTBCO0FBQ2xFLGdDQUFnQyxtQkFBTyxDQUFDLGdFQUEwQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRkFBb0YsUUFBUTtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRkFBb0YsZ0JBQWdCO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL0BsZXdkLXNpdGUvaW1hZ2Vib2FyZC1zc3IvLi9zcmMvY29udHJvbGxlcnMvYm9hcmQtY29udHJvbGxlci50cz8zZTE2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Cb2FyZENvbnRyb2xsZXIgPSB2b2lkIDA7XG5jb25zdCBsaXRfaHRtbF9zZXJ2ZXJfMSA9IHJlcXVpcmUoXCJAcG9wZWluZHVzdHJpZXMvbGl0LWh0bWwtc2VydmVyXCIpO1xuY29uc3QgaW5kZXhfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vdGVtcGxhdGVzL3BhZ2VzL2luZGV4XCIpKTtcbmNvbnN0IGJvYXJkXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL3RlbXBsYXRlcy9wYWdlcy9ib2FyZFwiKSk7XG5jbGFzcyBCb2FyZENvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKGFwaUNsaWVudCkge1xuICAgICAgICB0aGlzLmFwaUNsaWVudCA9IGFwaUNsaWVudDtcbiAgICAgICAgdGhpcy5pbmRleCA9IGFzeW5jIChjdHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvYXJkcyA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LmJyb3dzZUJvYXJkcygpO1xuICAgICAgICAgICAgY3R4LnNldCgnQ29udGVudC1UeXBlJywgJ3RleHQvaHRtbCcpO1xuICAgICAgICAgICAgY3R4LmJvZHkgPSAoMCwgbGl0X2h0bWxfc2VydmVyXzEucmVuZGVyVG9TdHJlYW0pKCgwLCBpbmRleF8xLmRlZmF1bHQpKHsgYm9hcmRzIH0pKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zaG93ID0gYXN5bmMgKGN0eCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2x1ZyA9IFN0cmluZyhjdHgucGFyYW1zLnNsdWcgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnN0IGJvYXJkID0gYXdhaXQgdGhpcy5hcGlDbGllbnQucmVhZEJvYXJkKHNsdWcpO1xuICAgICAgICAgICAgY29uc3QgdGhyZWFkcyA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LmJyb3dzZVRocmVhZHMoc2x1Zyk7XG4gICAgICAgICAgICBjdHguc2V0KCdDb250ZW50LVR5cGUnLCAndGV4dC9odG1sJyk7XG4gICAgICAgICAgICBjdHguYm9keSA9ICgwLCBsaXRfaHRtbF9zZXJ2ZXJfMS5yZW5kZXJUb1N0cmVhbSkoKDAsIGJvYXJkXzEuZGVmYXVsdCkoeyBib2FyZCwgdGhyZWFkcyB9KSk7XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5Cb2FyZENvbnRyb2xsZXIgPSBCb2FyZENvbnRyb2xsZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/controllers/board-controller.ts\n");

/***/ }),

/***/ "./src/controllers/post-controller.ts":
/*!********************************************!*\
  !*** ./src/controllers/post-controller.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PostController = void 0;\nconst lit_html_server_1 = __webpack_require__(/*! @popeindustries/lit-html-server */ \"@popeindustries/lit-html-server\");\nconst thread_1 = __importDefault(__webpack_require__(/*! ../templates/pages/thread */ \"./src/templates/pages/thread.ts\"));\nclass PostController {\n    constructor(apiClient) {\n        this.apiClient = apiClient;\n        this.index = async (ctx) => {\n            const slug = String(ctx.params.slug || '').trim();\n            const threadId = +(ctx.params.threadId || 0);\n            const board = await this.apiClient.readBoard(slug);\n            const thread = await this.apiClient.readThread(slug, threadId);\n            const posts = await this.apiClient.browsePosts(slug, threadId);\n            ctx.set('Content-Type', 'text/html');\n            ctx.body = (0, lit_html_server_1.renderToStream)((0, thread_1.default)({ board, thread, posts }));\n        };\n    }\n}\nexports.PostController = PostController;\nexports[\"default\"] = PostController;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29udHJvbGxlcnMvcG9zdC1jb250cm9sbGVyLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCO0FBQ3RCLDBCQUEwQixtQkFBTyxDQUFDLHdFQUFpQztBQUNuRSxpQ0FBaUMsbUJBQU8sQ0FBQyxrRUFBMkI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUYsc0JBQXNCO0FBQzNHO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QixrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL0BsZXdkLXNpdGUvaW1hZ2Vib2FyZC1zc3IvLi9zcmMvY29udHJvbGxlcnMvcG9zdC1jb250cm9sbGVyLnRzPzNmODgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvc3RDb250cm9sbGVyID0gdm9pZCAwO1xuY29uc3QgbGl0X2h0bWxfc2VydmVyXzEgPSByZXF1aXJlKFwiQHBvcGVpbmR1c3RyaWVzL2xpdC1odG1sLXNlcnZlclwiKTtcbmNvbnN0IHRocmVhZF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi90ZW1wbGF0ZXMvcGFnZXMvdGhyZWFkXCIpKTtcbmNsYXNzIFBvc3RDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihhcGlDbGllbnQpIHtcbiAgICAgICAgdGhpcy5hcGlDbGllbnQgPSBhcGlDbGllbnQ7XG4gICAgICAgIHRoaXMuaW5kZXggPSBhc3luYyAoY3R4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzbHVnID0gU3RyaW5nKGN0eC5wYXJhbXMuc2x1ZyB8fCAnJykudHJpbSgpO1xuICAgICAgICAgICAgY29uc3QgdGhyZWFkSWQgPSArKGN0eC5wYXJhbXMudGhyZWFkSWQgfHwgMCk7XG4gICAgICAgICAgICBjb25zdCBib2FyZCA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnJlYWRCb2FyZChzbHVnKTtcbiAgICAgICAgICAgIGNvbnN0IHRocmVhZCA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LnJlYWRUaHJlYWQoc2x1ZywgdGhyZWFkSWQpO1xuICAgICAgICAgICAgY29uc3QgcG9zdHMgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5icm93c2VQb3N0cyhzbHVnLCB0aHJlYWRJZCk7XG4gICAgICAgICAgICBjdHguc2V0KCdDb250ZW50LVR5cGUnLCAndGV4dC9odG1sJyk7XG4gICAgICAgICAgICBjdHguYm9keSA9ICgwLCBsaXRfaHRtbF9zZXJ2ZXJfMS5yZW5kZXJUb1N0cmVhbSkoKDAsIHRocmVhZF8xLmRlZmF1bHQpKHsgYm9hcmQsIHRocmVhZCwgcG9zdHMgfSkpO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuUG9zdENvbnRyb2xsZXIgPSBQb3N0Q29udHJvbGxlcjtcbmV4cG9ydHMuZGVmYXVsdCA9IFBvc3RDb250cm9sbGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/controllers/post-controller.ts\n");

/***/ }),

/***/ "./src/errors.ts":
/*!***********************!*\
  !*** ./src/errors.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ApiError = void 0;\nclass ApiError extends Error {\n    constructor(status, message) {\n        super(message);\n        this.status = status;\n    }\n}\nexports.ApiError = ApiError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZXJyb3JzLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbGV3ZC1zaXRlL2ltYWdlYm9hcmQtc3NyLy4vc3JjL2Vycm9ycy50cz84ZTFkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BcGlFcnJvciA9IHZvaWQgMDtcbmNsYXNzIEFwaUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHN0YXR1cywgbWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgfVxufVxuZXhwb3J0cy5BcGlFcnJvciA9IEFwaUVycm9yO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/errors.ts\n");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst http_1 = __importDefault(__webpack_require__(/*! http */ \"http\"));\nconst app_1 = __webpack_require__(/*! ./app */ \"./src/app.ts\");\nconst config_1 = __importDefault(__webpack_require__(/*! ./config */ \"./src/config.ts\"));\nconst app = (0, app_1.createApp)();\nhttp_1.default.createServer(app.callback()).listen(config_1.default.http.port);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXgudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwrQkFBK0IsbUJBQU8sQ0FBQyxrQkFBTTtBQUM3QyxjQUFjLG1CQUFPLENBQUMsMkJBQU87QUFDN0IsaUNBQWlDLG1CQUFPLENBQUMsaUNBQVU7QUFDbkQ7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BsZXdkLXNpdGUvaW1hZ2Vib2FyZC1zc3IvLi9zcmMvaW5kZXgudHM/ZTk0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGh0dHBfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiaHR0cFwiKSk7XG5jb25zdCBhcHBfMSA9IHJlcXVpcmUoXCIuL2FwcFwiKTtcbmNvbnN0IGNvbmZpZ18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2NvbmZpZ1wiKSk7XG5jb25zdCBhcHAgPSAoMCwgYXBwXzEuY3JlYXRlQXBwKSgpO1xuaHR0cF8xLmRlZmF1bHQuY3JlYXRlU2VydmVyKGFwcC5jYWxsYmFjaygpKS5saXN0ZW4oY29uZmlnXzEuZGVmYXVsdC5odHRwLnBvcnQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ }),

/***/ "./src/models/board.ts":
/*!*****************************!*\
  !*** ./src/models/board.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Board = void 0;\nclass Board {\n    constructor(slug, title, createdAt, postCount) {\n        this.slug = slug;\n        this.title = title;\n        this.createdAt = createdAt;\n        this.postCount = postCount;\n    }\n}\nexports.Board = Board;\nexports[\"default\"] = Board;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kZWxzL2JvYXJkLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGxld2Qtc2l0ZS9pbWFnZWJvYXJkLXNzci8uL3NyYy9tb2RlbHMvYm9hcmQudHM/ZDM0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQm9hcmQgPSB2b2lkIDA7XG5jbGFzcyBCb2FyZCB7XG4gICAgY29uc3RydWN0b3Ioc2x1ZywgdGl0bGUsIGNyZWF0ZWRBdCwgcG9zdENvdW50KSB7XG4gICAgICAgIHRoaXMuc2x1ZyA9IHNsdWc7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5jcmVhdGVkQXQgPSBjcmVhdGVkQXQ7XG4gICAgICAgIHRoaXMucG9zdENvdW50ID0gcG9zdENvdW50O1xuICAgIH1cbn1cbmV4cG9ydHMuQm9hcmQgPSBCb2FyZDtcbmV4cG9ydHMuZGVmYXVsdCA9IEJvYXJkO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/models/board.ts\n");

/***/ }),

/***/ "./src/models/file.ts":
/*!****************************!*\
  !*** ./src/models/file.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.File = void 0;\nclass File {\n    constructor(hash, name, extension, path, type, size, width, height, length, createdAt) {\n        this.hash = hash;\n        this.name = name;\n        this.extension = extension;\n        this.path = path;\n        this.type = type;\n        this.size = size;\n        this.width = width;\n        this.height = height;\n        this.length = length;\n        this.createdAt = createdAt;\n    }\n}\nexports.File = File;\nexports[\"default\"] = File;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kZWxzL2ZpbGUudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1osa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbGV3ZC1zaXRlL2ltYWdlYm9hcmQtc3NyLy4vc3JjL21vZGVscy9maWxlLnRzPzlkY2IiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZpbGUgPSB2b2lkIDA7XG5jbGFzcyBGaWxlIHtcbiAgICBjb25zdHJ1Y3RvcihoYXNoLCBuYW1lLCBleHRlbnNpb24sIHBhdGgsIHR5cGUsIHNpemUsIHdpZHRoLCBoZWlnaHQsIGxlbmd0aCwgY3JlYXRlZEF0KSB7XG4gICAgICAgIHRoaXMuaGFzaCA9IGhhc2g7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uID0gZXh0ZW5zaW9uO1xuICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdGhpcy5jcmVhdGVkQXQgPSBjcmVhdGVkQXQ7XG4gICAgfVxufVxuZXhwb3J0cy5GaWxlID0gRmlsZTtcbmV4cG9ydHMuZGVmYXVsdCA9IEZpbGU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/models/file.ts\n");

/***/ }),

/***/ "./src/models/post.ts":
/*!****************************!*\
  !*** ./src/models/post.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Post = void 0;\nclass Post {\n    constructor(id, slug, parentId, name, tripcode, message, parsedMessage, files, createdAt) {\n        this.id = id;\n        this.slug = slug;\n        this.parentId = parentId;\n        this.name = name;\n        this.tripcode = tripcode;\n        this.message = message;\n        this.parsedMessage = parsedMessage;\n        this.files = files;\n        this.createdAt = createdAt;\n    }\n}\nexports.Post = Post;\nexports[\"default\"] = Post;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kZWxzL3Bvc3QudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGxld2Qtc2l0ZS9pbWFnZWJvYXJkLXNzci8uL3NyYy9tb2RlbHMvcG9zdC50cz9iYzU4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb3N0ID0gdm9pZCAwO1xuY2xhc3MgUG9zdCB7XG4gICAgY29uc3RydWN0b3IoaWQsIHNsdWcsIHBhcmVudElkLCBuYW1lLCB0cmlwY29kZSwgbWVzc2FnZSwgcGFyc2VkTWVzc2FnZSwgZmlsZXMsIGNyZWF0ZWRBdCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuc2x1ZyA9IHNsdWc7XG4gICAgICAgIHRoaXMucGFyZW50SWQgPSBwYXJlbnRJZDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50cmlwY29kZSA9IHRyaXBjb2RlO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLnBhcnNlZE1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlO1xuICAgICAgICB0aGlzLmZpbGVzID0gZmlsZXM7XG4gICAgICAgIHRoaXMuY3JlYXRlZEF0ID0gY3JlYXRlZEF0O1xuICAgIH1cbn1cbmV4cG9ydHMuUG9zdCA9IFBvc3Q7XG5leHBvcnRzLmRlZmF1bHQgPSBQb3N0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/models/post.ts\n");

/***/ }),

/***/ "./src/models/thread.ts":
/*!******************************!*\
  !*** ./src/models/thread.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Thread = void 0;\nclass Thread {\n    constructor(id, slug, subject, name, tripcode, message, parsedMessage, files, createdAt, bumpedAt, postCount) {\n        this.id = id;\n        this.slug = slug;\n        this.subject = subject;\n        this.name = name;\n        this.tripcode = tripcode;\n        this.message = message;\n        this.parsedMessage = parsedMessage;\n        this.files = files;\n        this.createdAt = createdAt;\n        this.bumpedAt = bumpedAt;\n        this.postCount = postCount;\n    }\n}\nexports.Thread = Thread;\nexports[\"default\"] = Thread;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kZWxzL3RocmVhZC50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGxld2Qtc2l0ZS9pbWFnZWJvYXJkLXNzci8uL3NyYy9tb2RlbHMvdGhyZWFkLnRzPzYzMjIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlRocmVhZCA9IHZvaWQgMDtcbmNsYXNzIFRocmVhZCB7XG4gICAgY29uc3RydWN0b3IoaWQsIHNsdWcsIHN1YmplY3QsIG5hbWUsIHRyaXBjb2RlLCBtZXNzYWdlLCBwYXJzZWRNZXNzYWdlLCBmaWxlcywgY3JlYXRlZEF0LCBidW1wZWRBdCwgcG9zdENvdW50KSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5zbHVnID0gc2x1ZztcbiAgICAgICAgdGhpcy5zdWJqZWN0ID0gc3ViamVjdDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50cmlwY29kZSA9IHRyaXBjb2RlO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLnBhcnNlZE1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlO1xuICAgICAgICB0aGlzLmZpbGVzID0gZmlsZXM7XG4gICAgICAgIHRoaXMuY3JlYXRlZEF0ID0gY3JlYXRlZEF0O1xuICAgICAgICB0aGlzLmJ1bXBlZEF0ID0gYnVtcGVkQXQ7XG4gICAgICAgIHRoaXMucG9zdENvdW50ID0gcG9zdENvdW50O1xuICAgIH1cbn1cbmV4cG9ydHMuVGhyZWFkID0gVGhyZWFkO1xuZXhwb3J0cy5kZWZhdWx0ID0gVGhyZWFkO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/models/thread.ts\n");

/***/ }),

/***/ "./src/templates/layout.ts":
/*!*********************************!*\
  !*** ./src/templates/layout.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.layout = void 0;\nconst lit_html_server_1 = __webpack_require__(/*! @popeindustries/lit-html-server */ \"@popeindustries/lit-html-server\");\nconst config_1 = __importDefault(__webpack_require__(/*! ../config */ \"./src/config.ts\"));\nfunction layout(props) {\n    return (0, lit_html_server_1.html) `<!DOCTYPE html>\n    <html lang=\"ru\">\n      <head>\n        <meta charset=\"UTF-8\" />\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n\n        <title>${props.title}</title>\n\n        ${ true\n        ? (0, lit_html_server_1.html) `<script src=\"${config_1.default.dev.host}/assets/bundle.js\"></script>`\n        : 0}\n      </head>\n\n      <body class=\"layout\">\n        <main class=\"layout__content\">${props.content}</main>\n      </body>\n    </html>`;\n}\nexports.layout = layout;\nexports[\"default\"] = layout;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdGVtcGxhdGVzL2xheW91dC50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGNBQWM7QUFDZCwwQkFBMEIsbUJBQU8sQ0FBQyx3RUFBaUM7QUFDbkUsaUNBQWlDLG1CQUFPLENBQUMsa0NBQVc7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLFlBQVk7O0FBRTdCLFVBQVUsS0FBc0M7QUFDaEQsc0RBQXNELDBCQUEwQjtBQUNoRixVQUFVLENBQ21FO0FBQzdFOztBQUVBO0FBQ0Esd0NBQXdDLGNBQWM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGxld2Qtc2l0ZS9pbWFnZWJvYXJkLXNzci8uL3NyYy90ZW1wbGF0ZXMvbGF5b3V0LnRzP2FhN2UiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxheW91dCA9IHZvaWQgMDtcbmNvbnN0IGxpdF9odG1sX3NlcnZlcl8xID0gcmVxdWlyZShcIkBwb3BlaW5kdXN0cmllcy9saXQtaHRtbC1zZXJ2ZXJcIik7XG5jb25zdCBjb25maWdfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vY29uZmlnXCIpKTtcbmZ1bmN0aW9uIGxheW91dChwcm9wcykge1xuICAgIHJldHVybiAoMCwgbGl0X2h0bWxfc2VydmVyXzEuaHRtbCkgYDwhRE9DVFlQRSBodG1sPlxuICAgIDxodG1sIGxhbmc9XCJydVwiPlxuICAgICAgPGhlYWQ+XG4gICAgICAgIDxtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiIC8+XG4gICAgICAgIDxtZXRhIGh0dHAtZXF1aXY9XCJYLVVBLUNvbXBhdGlibGVcIiBjb250ZW50PVwiSUU9ZWRnZVwiIC8+XG4gICAgICAgIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCIgLz5cblxuICAgICAgICA8dGl0bGU+JHtwcm9wcy50aXRsZX08L3RpdGxlPlxuXG4gICAgICAgICR7cHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCdcbiAgICAgICAgPyAoMCwgbGl0X2h0bWxfc2VydmVyXzEuaHRtbCkgYDxzY3JpcHQgc3JjPVwiJHtjb25maWdfMS5kZWZhdWx0LmRldi5ob3N0fS9hc3NldHMvYnVuZGxlLmpzXCI+PC9zY3JpcHQ+YFxuICAgICAgICA6ICgwLCBsaXRfaHRtbF9zZXJ2ZXJfMS5odG1sKSBgPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIGhyZWY9XCIvc3R5bGVzL2J1bmRsZS5jc3NcIiAvPlxuICAgICAgICAgICAgICA8c2NyaXB0IHR5cGU9XCJtb2R1bGVcIiBzcmM9XCIvc2NyaXB0cy9idW5kbGUuanNcIiBkZWZlcj48L3NjcmlwdD5gfVxuICAgICAgPC9oZWFkPlxuXG4gICAgICA8Ym9keSBjbGFzcz1cImxheW91dFwiPlxuICAgICAgICA8bWFpbiBjbGFzcz1cImxheW91dF9fY29udGVudFwiPiR7cHJvcHMuY29udGVudH08L21haW4+XG4gICAgICA8L2JvZHk+XG4gICAgPC9odG1sPmA7XG59XG5leHBvcnRzLmxheW91dCA9IGxheW91dDtcbmV4cG9ydHMuZGVmYXVsdCA9IGxheW91dDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/templates/layout.ts\n");

/***/ }),

/***/ "./src/templates/pages/board.ts":
/*!**************************************!*\
  !*** ./src/templates/pages/board.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.boardPage = void 0;\nconst lit_html_server_1 = __webpack_require__(/*! @popeindustries/lit-html-server */ \"@popeindustries/lit-html-server\");\nconst layout_1 = __importDefault(__webpack_require__(/*! ../layout */ \"./src/templates/layout.ts\"));\nconst post_files_1 = __importDefault(__webpack_require__(/*! ../post-files */ \"./src/templates/post-files.ts\"));\nfunction boardPage({ board, threads }) {\n    const title = `/${board.slug}/ — ${board.title}`;\n    return (0, layout_1.default)({\n        title,\n        content: (0, lit_html_server_1.html) `<h1 class=\"layout__title\">${title}</h1>\n\n      <div class=\"board-page\">\n        <h2 class=\"board-page__title\">Список тредов</h2>\n\n        ${threads.map((thread) => (0, lit_html_server_1.html) `<section class=\"board-page__thread thread\">\n            <div class=\"thread__header\">\n              <span class=\"thread__subject\">${thread.subject || ''}</span>\n\n              <span class=\"thread__author\">\n                <span class=\"thread__name\">${thread.name || ''}</span>\n                <span class=\"thread__tripcode\">${thread.tripcode || ''}</span>\n              </span>\n\n              <time class=\"thread__date\" datetime=\"${thread.createdAt.toISOString()}\">\n                ${thread.createdAt.toLocaleDateString()} ${thread.createdAt.toLocaleTimeString()}\n              </time>\n\n              <span class=\"thread__id\">${thread.id}</span>\n\n              <a class=\"thread__reply\" href=\"/${thread.slug}/res/${thread.id}\">Перейти в тред</a>\n            </div>\n\n            <div class=\"thread__content\">\n              ${(0, post_files_1.default)({ className: 'thread__files', files: thread.files })}\n\n              <div class=\"thread__message\">${thread.message}</div>\n            </div>\n\n            <div class=\"thread__footer\">\n              <span class=\"thread__replies\">Ответов: ${thread.postCount}</span>\n            </div>\n          </section>`)}\n      </div>`,\n    });\n}\nexports.boardPage = boardPage;\nexports[\"default\"] = boardPage;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdGVtcGxhdGVzL3BhZ2VzL2JvYXJkLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCLDBCQUEwQixtQkFBTyxDQUFDLHdFQUFpQztBQUNuRSxpQ0FBaUMsbUJBQU8sQ0FBQyw0Q0FBVztBQUNwRCxxQ0FBcUMsbUJBQU8sQ0FBQyxvREFBZTtBQUM1RCxxQkFBcUIsZ0JBQWdCO0FBQ3JDLHNCQUFzQixXQUFXLE1BQU0sWUFBWTtBQUNuRDtBQUNBO0FBQ0EsMEVBQTBFLE1BQU07O0FBRWhGO0FBQ0E7O0FBRUEsVUFBVTtBQUNWO0FBQ0EsOENBQThDLHFCQUFxQjs7QUFFbkU7QUFDQSw2Q0FBNkMsa0JBQWtCO0FBQy9ELGlEQUFpRCxzQkFBc0I7QUFDdkU7O0FBRUEscURBQXFELCtCQUErQjtBQUNwRixrQkFBa0IsdUNBQXVDLEVBQUU7QUFDM0Q7O0FBRUEseUNBQXlDLFVBQVU7O0FBRW5ELGdEQUFnRCxZQUFZLE9BQU8sVUFBVTtBQUM3RTs7QUFFQTtBQUNBLGdCQUFnQiw0QkFBNEIsaURBQWlEOztBQUU3Riw2Q0FBNkMsZUFBZTtBQUM1RDs7QUFFQTtBQUNBLHVEQUF1RCxpQkFBaUI7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsaUJBQWlCO0FBQ2pCLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGxld2Qtc2l0ZS9pbWFnZWJvYXJkLXNzci8uL3NyYy90ZW1wbGF0ZXMvcGFnZXMvYm9hcmQudHM/NTViNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYm9hcmRQYWdlID0gdm9pZCAwO1xuY29uc3QgbGl0X2h0bWxfc2VydmVyXzEgPSByZXF1aXJlKFwiQHBvcGVpbmR1c3RyaWVzL2xpdC1odG1sLXNlcnZlclwiKTtcbmNvbnN0IGxheW91dF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9sYXlvdXRcIikpO1xuY29uc3QgcG9zdF9maWxlc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9wb3N0LWZpbGVzXCIpKTtcbmZ1bmN0aW9uIGJvYXJkUGFnZSh7IGJvYXJkLCB0aHJlYWRzIH0pIHtcbiAgICBjb25zdCB0aXRsZSA9IGAvJHtib2FyZC5zbHVnfS8g4oCUICR7Ym9hcmQudGl0bGV9YDtcbiAgICByZXR1cm4gKDAsIGxheW91dF8xLmRlZmF1bHQpKHtcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIGNvbnRlbnQ6ICgwLCBsaXRfaHRtbF9zZXJ2ZXJfMS5odG1sKSBgPGgxIGNsYXNzPVwibGF5b3V0X190aXRsZVwiPiR7dGl0bGV9PC9oMT5cblxuICAgICAgPGRpdiBjbGFzcz1cImJvYXJkLXBhZ2VcIj5cbiAgICAgICAgPGgyIGNsYXNzPVwiYm9hcmQtcGFnZV9fdGl0bGVcIj7QodC/0LjRgdC+0Log0YLRgNC10LTQvtCyPC9oMj5cblxuICAgICAgICAke3RocmVhZHMubWFwKCh0aHJlYWQpID0+ICgwLCBsaXRfaHRtbF9zZXJ2ZXJfMS5odG1sKSBgPHNlY3Rpb24gY2xhc3M9XCJib2FyZC1wYWdlX190aHJlYWQgdGhyZWFkXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGhyZWFkX19oZWFkZXJcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0aHJlYWRfX3N1YmplY3RcIj4ke3RocmVhZC5zdWJqZWN0IHx8ICcnfTwvc3Bhbj5cblxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRocmVhZF9fYXV0aG9yXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0aHJlYWRfX25hbWVcIj4ke3RocmVhZC5uYW1lIHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRocmVhZF9fdHJpcGNvZGVcIj4ke3RocmVhZC50cmlwY29kZSB8fCAnJ308L3NwYW4+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cblxuICAgICAgICAgICAgICA8dGltZSBjbGFzcz1cInRocmVhZF9fZGF0ZVwiIGRhdGV0aW1lPVwiJHt0aHJlYWQuY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCl9XCI+XG4gICAgICAgICAgICAgICAgJHt0aHJlYWQuY3JlYXRlZEF0LnRvTG9jYWxlRGF0ZVN0cmluZygpfSAke3RocmVhZC5jcmVhdGVkQXQudG9Mb2NhbGVUaW1lU3RyaW5nKCl9XG4gICAgICAgICAgICAgIDwvdGltZT5cblxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRocmVhZF9faWRcIj4ke3RocmVhZC5pZH08L3NwYW4+XG5cbiAgICAgICAgICAgICAgPGEgY2xhc3M9XCJ0aHJlYWRfX3JlcGx5XCIgaHJlZj1cIi8ke3RocmVhZC5zbHVnfS9yZXMvJHt0aHJlYWQuaWR9XCI+0J/QtdGA0LXQudGC0Lgg0LIg0YLRgNC10LQ8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRocmVhZF9fY29udGVudFwiPlxuICAgICAgICAgICAgICAkeygwLCBwb3N0X2ZpbGVzXzEuZGVmYXVsdCkoeyBjbGFzc05hbWU6ICd0aHJlYWRfX2ZpbGVzJywgZmlsZXM6IHRocmVhZC5maWxlcyB9KX1cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGhyZWFkX19tZXNzYWdlXCI+JHt0aHJlYWQubWVzc2FnZX08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGhyZWFkX19mb290ZXJcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0aHJlYWRfX3JlcGxpZXNcIj7QntGC0LLQtdGC0L7QsjogJHt0aHJlYWQucG9zdENvdW50fTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvc2VjdGlvbj5gKX1cbiAgICAgIDwvZGl2PmAsXG4gICAgfSk7XG59XG5leHBvcnRzLmJvYXJkUGFnZSA9IGJvYXJkUGFnZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJvYXJkUGFnZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/templates/pages/board.ts\n");

/***/ }),

/***/ "./src/templates/pages/index.ts":
/*!**************************************!*\
  !*** ./src/templates/pages/index.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.indexPage = void 0;\nconst lit_html_server_1 = __webpack_require__(/*! @popeindustries/lit-html-server */ \"@popeindustries/lit-html-server\");\nconst config_1 = __importDefault(__webpack_require__(/*! ../../config */ \"./src/config.ts\"));\nconst layout_1 = __importDefault(__webpack_require__(/*! ../layout */ \"./src/templates/layout.ts\"));\nfunction indexPage({ boards }) {\n    const title = config_1.default.site.title;\n    return (0, layout_1.default)({\n        title,\n        content: (0, lit_html_server_1.html) `<h1 class=\"layout__title\">${title}</h1>\n\n      <div class=\"index-page\">\n        <h2 class=\"index-page__title\">Список досок</h2>\n\n        <table class=\"index-page__table table\">\n          <thead class=\"table__header\">\n            <tr class=\"table__row\">\n              <th class=\"table__cell\">Доска</th>\n              <th class=\"table__cell\">Название</th>\n              <th class=\"table__cell\">Количество постов</th>\n            </tr>\n          </thead>\n\n          <tbody class=\"table__body\">\n            ${boards.map((board) => (0, lit_html_server_1.html) `<tr class=\"table__row\">\n                <th scope=\"row\" class=\"table__cell\"><a href=\"/${board.slug}/\">/${board.slug}/</a></th>\n                <td class=\"table__cell\">${board.title}</td>\n                <td class=\"table__cell\">${board.postCount}</td>\n              </tr>`)}\n          </tbody>\n        </table>\n      </div>`,\n    });\n}\nexports.indexPage = indexPage;\nexports[\"default\"] = indexPage;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdGVtcGxhdGVzL3BhZ2VzL2luZGV4LnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCLDBCQUEwQixtQkFBTyxDQUFDLHdFQUFpQztBQUNuRSxpQ0FBaUMsbUJBQU8sQ0FBQyxxQ0FBYztBQUN2RCxpQ0FBaUMsbUJBQU8sQ0FBQyw0Q0FBVztBQUNwRCxxQkFBcUIsUUFBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsTUFBTTs7QUFFaEY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYztBQUNkLGdFQUFnRSxXQUFXLE1BQU0sV0FBVztBQUM1RiwwQ0FBMEMsWUFBWTtBQUN0RCwwQ0FBMEMsZ0JBQWdCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsaUJBQWlCO0FBQ2pCLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGxld2Qtc2l0ZS9pbWFnZWJvYXJkLXNzci8uL3NyYy90ZW1wbGF0ZXMvcGFnZXMvaW5kZXgudHM/Yjc5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaW5kZXhQYWdlID0gdm9pZCAwO1xuY29uc3QgbGl0X2h0bWxfc2VydmVyXzEgPSByZXF1aXJlKFwiQHBvcGVpbmR1c3RyaWVzL2xpdC1odG1sLXNlcnZlclwiKTtcbmNvbnN0IGNvbmZpZ18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi9jb25maWdcIikpO1xuY29uc3QgbGF5b3V0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL2xheW91dFwiKSk7XG5mdW5jdGlvbiBpbmRleFBhZ2UoeyBib2FyZHMgfSkge1xuICAgIGNvbnN0IHRpdGxlID0gY29uZmlnXzEuZGVmYXVsdC5zaXRlLnRpdGxlO1xuICAgIHJldHVybiAoMCwgbGF5b3V0XzEuZGVmYXVsdCkoe1xuICAgICAgICB0aXRsZSxcbiAgICAgICAgY29udGVudDogKDAsIGxpdF9odG1sX3NlcnZlcl8xLmh0bWwpIGA8aDEgY2xhc3M9XCJsYXlvdXRfX3RpdGxlXCI+JHt0aXRsZX08L2gxPlxuXG4gICAgICA8ZGl2IGNsYXNzPVwiaW5kZXgtcGFnZVwiPlxuICAgICAgICA8aDIgY2xhc3M9XCJpbmRleC1wYWdlX190aXRsZVwiPtCh0L/QuNGB0L7QuiDQtNC+0YHQvtC6PC9oMj5cblxuICAgICAgICA8dGFibGUgY2xhc3M9XCJpbmRleC1wYWdlX190YWJsZSB0YWJsZVwiPlxuICAgICAgICAgIDx0aGVhZCBjbGFzcz1cInRhYmxlX19oZWFkZXJcIj5cbiAgICAgICAgICAgIDx0ciBjbGFzcz1cInRhYmxlX19yb3dcIj5cbiAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGFibGVfX2NlbGxcIj7QlNC+0YHQutCwPC90aD5cbiAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGFibGVfX2NlbGxcIj7QndCw0LfQstCw0L3QuNC1PC90aD5cbiAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGFibGVfX2NlbGxcIj7QmtC+0LvQuNGH0LXRgdGC0LLQviDQv9C+0YHRgtC+0LI8L3RoPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICA8L3RoZWFkPlxuXG4gICAgICAgICAgPHRib2R5IGNsYXNzPVwidGFibGVfX2JvZHlcIj5cbiAgICAgICAgICAgICR7Ym9hcmRzLm1hcCgoYm9hcmQpID0+ICgwLCBsaXRfaHRtbF9zZXJ2ZXJfMS5odG1sKSBgPHRyIGNsYXNzPVwidGFibGVfX3Jvd1wiPlxuICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cInJvd1wiIGNsYXNzPVwidGFibGVfX2NlbGxcIj48YSBocmVmPVwiLyR7Ym9hcmQuc2x1Z30vXCI+LyR7Ym9hcmQuc2x1Z30vPC9hPjwvdGg+XG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGFibGVfX2NlbGxcIj4ke2JvYXJkLnRpdGxlfTwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGFibGVfX2NlbGxcIj4ke2JvYXJkLnBvc3RDb3VudH08L3RkPlxuICAgICAgICAgICAgICA8L3RyPmApfVxuICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L2Rpdj5gLFxuICAgIH0pO1xufVxuZXhwb3J0cy5pbmRleFBhZ2UgPSBpbmRleFBhZ2U7XG5leHBvcnRzLmRlZmF1bHQgPSBpbmRleFBhZ2U7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/templates/pages/index.ts\n");

/***/ }),

/***/ "./src/templates/pages/thread.ts":
/*!***************************************!*\
  !*** ./src/templates/pages/thread.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.threadPage = void 0;\nconst lit_html_server_1 = __webpack_require__(/*! @popeindustries/lit-html-server */ \"@popeindustries/lit-html-server\");\nconst layout_1 = __importDefault(__webpack_require__(/*! ../layout */ \"./src/templates/layout.ts\"));\nconst post_files_1 = __importDefault(__webpack_require__(/*! ../post-files */ \"./src/templates/post-files.ts\"));\nfunction threadPage({ board, thread, posts }) {\n    const title = `/${board.slug}/ — ${thread.subject ?? `Тред #${thread.id}`}`;\n    return (0, layout_1.default)({\n        title,\n        content: (0, lit_html_server_1.html) `<h1 class=\"layout__title\">${title}</h1>\n\n      <div class=\"thread-page\">\n        ${posts.map((post) => (0, lit_html_server_1.html) `<section class=\"thread-page__post post\">\n            <div class=\"post__header\">\n              <span class=\"post__author\">\n                <span class=\"post__name\">${post.name || ''}</span>\n                <span class=\"post__tripcode\">${post.tripcode || ''}</span>\n              </span>\n\n              <time class=\"post__date\" datetime=\"${post.createdAt.toISOString()}\">\n                ${post.createdAt.toLocaleDateString()} ${post.createdAt.toLocaleTimeString()}\n              </time>\n\n              <span class=\"post__id\">${post.id}</span>\n            </div>\n\n            <div class=\"post__content\">\n              ${(0, post_files_1.default)({ className: 'post__files', files: post.files })}\n\n              <div class=\"post__message\">${post.message}</div>\n            </div>\n\n            <div class=\"post__footer\"></div>\n          </section>`)}\n      </div>`,\n    });\n}\nexports.threadPage = threadPage;\nexports[\"default\"] = threadPage;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdGVtcGxhdGVzL3BhZ2VzL3RocmVhZC50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQjtBQUNsQiwwQkFBMEIsbUJBQU8sQ0FBQyx3RUFBaUM7QUFDbkUsaUNBQWlDLG1CQUFPLENBQUMsNENBQVc7QUFDcEQscUNBQXFDLG1CQUFPLENBQUMsb0RBQWU7QUFDNUQsc0JBQXNCLHNCQUFzQjtBQUM1QyxzQkFBc0IsV0FBVyxNQUFNLDJCQUEyQixVQUFVLEVBQUU7QUFDOUU7QUFDQTtBQUNBLDBFQUEwRSxNQUFNOztBQUVoRjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsMkNBQTJDLGdCQUFnQjtBQUMzRCwrQ0FBK0Msb0JBQW9CO0FBQ25FOztBQUVBLG1EQUFtRCw2QkFBNkI7QUFDaEYsa0JBQWtCLHFDQUFxQyxFQUFFO0FBQ3pEOztBQUVBLHVDQUF1QyxRQUFRO0FBQy9DOztBQUVBO0FBQ0EsZ0JBQWdCLDRCQUE0Qiw2Q0FBNkM7O0FBRXpGLDJDQUEyQyxhQUFhO0FBQ3hEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGtCQUFrQjtBQUNsQixrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL0BsZXdkLXNpdGUvaW1hZ2Vib2FyZC1zc3IvLi9zcmMvdGVtcGxhdGVzL3BhZ2VzL3RocmVhZC50cz8yMWQxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy50aHJlYWRQYWdlID0gdm9pZCAwO1xuY29uc3QgbGl0X2h0bWxfc2VydmVyXzEgPSByZXF1aXJlKFwiQHBvcGVpbmR1c3RyaWVzL2xpdC1odG1sLXNlcnZlclwiKTtcbmNvbnN0IGxheW91dF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9sYXlvdXRcIikpO1xuY29uc3QgcG9zdF9maWxlc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9wb3N0LWZpbGVzXCIpKTtcbmZ1bmN0aW9uIHRocmVhZFBhZ2UoeyBib2FyZCwgdGhyZWFkLCBwb3N0cyB9KSB7XG4gICAgY29uc3QgdGl0bGUgPSBgLyR7Ym9hcmQuc2x1Z30vIOKAlCAke3RocmVhZC5zdWJqZWN0ID8/IGDQotGA0LXQtCAjJHt0aHJlYWQuaWR9YH1gO1xuICAgIHJldHVybiAoMCwgbGF5b3V0XzEuZGVmYXVsdCkoe1xuICAgICAgICB0aXRsZSxcbiAgICAgICAgY29udGVudDogKDAsIGxpdF9odG1sX3NlcnZlcl8xLmh0bWwpIGA8aDEgY2xhc3M9XCJsYXlvdXRfX3RpdGxlXCI+JHt0aXRsZX08L2gxPlxuXG4gICAgICA8ZGl2IGNsYXNzPVwidGhyZWFkLXBhZ2VcIj5cbiAgICAgICAgJHtwb3N0cy5tYXAoKHBvc3QpID0+ICgwLCBsaXRfaHRtbF9zZXJ2ZXJfMS5odG1sKSBgPHNlY3Rpb24gY2xhc3M9XCJ0aHJlYWQtcGFnZV9fcG9zdCBwb3N0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9zdF9faGVhZGVyXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicG9zdF9fYXV0aG9yXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwb3N0X19uYW1lXCI+JHtwb3N0Lm5hbWUgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicG9zdF9fdHJpcGNvZGVcIj4ke3Bvc3QudHJpcGNvZGUgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgICAgICA8L3NwYW4+XG5cbiAgICAgICAgICAgICAgPHRpbWUgY2xhc3M9XCJwb3N0X19kYXRlXCIgZGF0ZXRpbWU9XCIke3Bvc3QuY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCl9XCI+XG4gICAgICAgICAgICAgICAgJHtwb3N0LmNyZWF0ZWRBdC50b0xvY2FsZURhdGVTdHJpbmcoKX0gJHtwb3N0LmNyZWF0ZWRBdC50b0xvY2FsZVRpbWVTdHJpbmcoKX1cbiAgICAgICAgICAgICAgPC90aW1lPlxuXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicG9zdF9faWRcIj4ke3Bvc3QuaWR9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb3N0X19jb250ZW50XCI+XG4gICAgICAgICAgICAgICR7KDAsIHBvc3RfZmlsZXNfMS5kZWZhdWx0KSh7IGNsYXNzTmFtZTogJ3Bvc3RfX2ZpbGVzJywgZmlsZXM6IHBvc3QuZmlsZXMgfSl9XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBvc3RfX21lc3NhZ2VcIj4ke3Bvc3QubWVzc2FnZX08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9zdF9fZm9vdGVyXCI+PC9kaXY+XG4gICAgICAgICAgPC9zZWN0aW9uPmApfVxuICAgICAgPC9kaXY+YCxcbiAgICB9KTtcbn1cbmV4cG9ydHMudGhyZWFkUGFnZSA9IHRocmVhZFBhZ2U7XG5leHBvcnRzLmRlZmF1bHQgPSB0aHJlYWRQYWdlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/templates/pages/thread.ts\n");

/***/ }),

/***/ "./src/templates/post-files.ts":
/*!*************************************!*\
  !*** ./src/templates/post-files.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.postFiles = void 0;\nconst lit_html_server_1 = __webpack_require__(/*! @popeindustries/lit-html-server */ \"@popeindustries/lit-html-server\");\nconst config_1 = __importDefault(__webpack_require__(/*! ../config */ \"./src/config.ts\"));\nconst MAX_NAME_LENGTH = 20;\nconst DEFAULT_THUMBNAIL_SIZE = 96;\nconst THUMBNAIL_SIZE = 250;\nconst TRANSPARENT = ['webp', 'png', 'gif'];\nfunction formatFileName(name) {\n    if (name.length > MAX_NAME_LENGTH) {\n        const nameParts = name.split('.');\n        const extension = nameParts.length > 1 ? nameParts[nameParts.length - 1] : null;\n        if (extension !== null) {\n            return name.substring(0, MAX_NAME_LENGTH - 4 - extension.length) + '[…].' + extension;\n        }\n        return name.substring(0, MAX_NAME_LENGTH - 4) + '[…]';\n    }\n    return name;\n}\nfunction formatFileDimensions(file) {\n    const dimensions = [formatFileSize(file.size)];\n    if (file.width !== null && file.height !== null) {\n        dimensions.push(`${file.width}x${file.height}`);\n    }\n    if (file.length !== null) {\n        dimensions.push(formatDuration(file.length));\n    }\n    return dimensions.join(', ');\n}\nfunction formatFileSize(size) {\n    const units = ['Б', 'КБ', 'МБ', 'ГБ', 'ТБ'];\n    const index = size === 0 ? 0 : Math.floor((31 - Math.clz32(size)) / 10);\n    return `${(size / Math.pow(1024, index)).toFixed(2)} ${units[index]}`;\n}\nfunction formatDuration(seconds) {\n    const ss = (Math.floor(seconds) % 60).toString().padStart(2, '0');\n    const mm = (Math.floor(seconds / 60) % 60).toString().padStart(2, '0');\n    const hh = (Math.floor(seconds / 3600) % 60).toString().padStart(2, '0');\n    if (+hh > 0) {\n        return `${hh}:${mm}:${ss}`;\n    }\n    return `${mm}:${ss}`;\n}\nfunction postFiles(props) {\n    const className = [props.className, 'post-files'].filter((c) => c).join(' ');\n    return (0, lit_html_server_1.html) `<ul class=\"${className}\">\n    ${props.files.map((file) => {\n        const fileType = file.type.split('/').shift() || 'image';\n        const fallbackExtension = TRANSPARENT.includes(file.extension) ? 'png' : 'jpg';\n        const fallbackMimeType = TRANSPARENT.includes(file.extension) ? 'image/png' : 'image/jpeg';\n        const originalUrl = `${config_1.default.api.host}/original/${file.hash}.${file.extension}`;\n        const thumbnailUrl = `${config_1.default.api.host}/thumbnails/${file.hash}.webp`;\n        const thumbnailFallbackUrl = `${config_1.default.api.host}/thumbnails/${file.hash}.${fallbackExtension}`;\n        const width = file.width || DEFAULT_THUMBNAIL_SIZE;\n        const height = file.height || DEFAULT_THUMBNAIL_SIZE;\n        const thumbnailWidth = Math.round(width / Math.max(1, width / THUMBNAIL_SIZE, height / THUMBNAIL_SIZE));\n        const thumbnailHeight = Math.round(height / Math.max(1, width / THUMBNAIL_SIZE, height / THUMBNAIL_SIZE));\n        return (0, lit_html_server_1.html) `<li class=\"${`post-files__item post-file post-file_${fileType}`}\">\n        <div class=\"post-file__info\">\n          <div class=\"post-file__name\">\n            <a class=\"post-file__info-link\" href=\"${originalUrl}\" target=\"_blank\">${formatFileName(file.name)}</a>\n          </div>\n\n          <div class=\"post-file__dimensions\">${formatFileDimensions(file)}</div>\n        </div>\n\n        <a class=\"post-file__link\" href=\"${originalUrl}\" target=\"_blank\">\n          <picture class=\"post-file__picture\">\n            <source srcset=\"${thumbnailUrl}\" type=\"image/webp\" />\n            <source srcset=\"${thumbnailFallbackUrl}\" type=\"${fallbackMimeType}\" />\n\n            <img\n              class=\"post-file__image\"\n              src=\"${thumbnailFallbackUrl}\"\n              alt=\"\"\n              title=\"${file.name}\"\n              width=\"${thumbnailWidth}\"\n              height=\"${thumbnailHeight}\"\n            />\n          </picture>\n        </a>\n      </li>`;\n    })}\n  </ul>`;\n}\nexports.postFiles = postFiles;\nexports[\"default\"] = postFiles;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdGVtcGxhdGVzL3Bvc3QtZmlsZXMudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUI7QUFDakIsMEJBQTBCLG1CQUFPLENBQUMsd0VBQWlDO0FBQ25FLGlDQUFpQyxtQkFBTyxDQUFDLGtDQUFXO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixXQUFXLEdBQUcsWUFBWTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDJDQUEyQyxFQUFFLGFBQWE7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztBQUNqQztBQUNBLGNBQWMsR0FBRyxHQUFHLEdBQUc7QUFDdkI7QUFDQTtBQUNBO0FBQ0EscURBQXFELFVBQVU7QUFDL0QsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwwQkFBMEIsWUFBWSxVQUFVLEdBQUcsZUFBZTtBQUNqRyxnQ0FBZ0MsMEJBQTBCLGNBQWMsVUFBVTtBQUNsRix3Q0FBd0MsMEJBQTBCLGNBQWMsVUFBVSxHQUFHLGtCQUFrQjtBQUMvRztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCx3Q0FBd0MsU0FBUyxFQUFFO0FBQzVHO0FBQ0E7QUFDQSxvREFBb0QsWUFBWSxvQkFBb0IsMEJBQTBCO0FBQzlHOztBQUVBLCtDQUErQywyQkFBMkI7QUFDMUU7O0FBRUEsMkNBQTJDLFlBQVk7QUFDdkQ7QUFDQSw4QkFBOEIsYUFBYTtBQUMzQyw4QkFBOEIscUJBQXFCLFVBQVUsaUJBQWlCOztBQUU5RTtBQUNBO0FBQ0EscUJBQXFCLHFCQUFxQjtBQUMxQztBQUNBLHVCQUF1QixVQUFVO0FBQ2pDLHVCQUF1QixlQUFlO0FBQ3RDLHdCQUF3QixnQkFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL0BsZXdkLXNpdGUvaW1hZ2Vib2FyZC1zc3IvLi9zcmMvdGVtcGxhdGVzL3Bvc3QtZmlsZXMudHM/ODgyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucG9zdEZpbGVzID0gdm9pZCAwO1xuY29uc3QgbGl0X2h0bWxfc2VydmVyXzEgPSByZXF1aXJlKFwiQHBvcGVpbmR1c3RyaWVzL2xpdC1odG1sLXNlcnZlclwiKTtcbmNvbnN0IGNvbmZpZ18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9jb25maWdcIikpO1xuY29uc3QgTUFYX05BTUVfTEVOR1RIID0gMjA7XG5jb25zdCBERUZBVUxUX1RIVU1CTkFJTF9TSVpFID0gOTY7XG5jb25zdCBUSFVNQk5BSUxfU0laRSA9IDI1MDtcbmNvbnN0IFRSQU5TUEFSRU5UID0gWyd3ZWJwJywgJ3BuZycsICdnaWYnXTtcbmZ1bmN0aW9uIGZvcm1hdEZpbGVOYW1lKG5hbWUpIHtcbiAgICBpZiAobmFtZS5sZW5ndGggPiBNQVhfTkFNRV9MRU5HVEgpIHtcbiAgICAgICAgY29uc3QgbmFtZVBhcnRzID0gbmFtZS5zcGxpdCgnLicpO1xuICAgICAgICBjb25zdCBleHRlbnNpb24gPSBuYW1lUGFydHMubGVuZ3RoID4gMSA/IG5hbWVQYXJ0c1tuYW1lUGFydHMubGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgICAgICBpZiAoZXh0ZW5zaW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbmFtZS5zdWJzdHJpbmcoMCwgTUFYX05BTUVfTEVOR1RIIC0gNCAtIGV4dGVuc2lvbi5sZW5ndGgpICsgJ1vigKZdLicgKyBleHRlbnNpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hbWUuc3Vic3RyaW5nKDAsIE1BWF9OQU1FX0xFTkdUSCAtIDQpICsgJ1vigKZdJztcbiAgICB9XG4gICAgcmV0dXJuIG5hbWU7XG59XG5mdW5jdGlvbiBmb3JtYXRGaWxlRGltZW5zaW9ucyhmaWxlKSB7XG4gICAgY29uc3QgZGltZW5zaW9ucyA9IFtmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpXTtcbiAgICBpZiAoZmlsZS53aWR0aCAhPT0gbnVsbCAmJiBmaWxlLmhlaWdodCAhPT0gbnVsbCkge1xuICAgICAgICBkaW1lbnNpb25zLnB1c2goYCR7ZmlsZS53aWR0aH14JHtmaWxlLmhlaWdodH1gKTtcbiAgICB9XG4gICAgaWYgKGZpbGUubGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgIGRpbWVuc2lvbnMucHVzaChmb3JtYXREdXJhdGlvbihmaWxlLmxlbmd0aCkpO1xuICAgIH1cbiAgICByZXR1cm4gZGltZW5zaW9ucy5qb2luKCcsICcpO1xufVxuZnVuY3Rpb24gZm9ybWF0RmlsZVNpemUoc2l6ZSkge1xuICAgIGNvbnN0IHVuaXRzID0gWyfQkScsICfQmtCRJywgJ9Cc0JEnLCAn0JPQkScsICfQotCRJ107XG4gICAgY29uc3QgaW5kZXggPSBzaXplID09PSAwID8gMCA6IE1hdGguZmxvb3IoKDMxIC0gTWF0aC5jbHozMihzaXplKSkgLyAxMCk7XG4gICAgcmV0dXJuIGAkeyhzaXplIC8gTWF0aC5wb3coMTAyNCwgaW5kZXgpKS50b0ZpeGVkKDIpfSAke3VuaXRzW2luZGV4XX1gO1xufVxuZnVuY3Rpb24gZm9ybWF0RHVyYXRpb24oc2Vjb25kcykge1xuICAgIGNvbnN0IHNzID0gKE1hdGguZmxvb3Ioc2Vjb25kcykgJSA2MCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgIGNvbnN0IG1tID0gKE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKSAlIDYwKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgY29uc3QgaGggPSAoTWF0aC5mbG9vcihzZWNvbmRzIC8gMzYwMCkgJSA2MCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgIGlmICgraGggPiAwKSB7XG4gICAgICAgIHJldHVybiBgJHtoaH06JHttbX06JHtzc31gO1xuICAgIH1cbiAgICByZXR1cm4gYCR7bW19OiR7c3N9YDtcbn1cbmZ1bmN0aW9uIHBvc3RGaWxlcyhwcm9wcykge1xuICAgIGNvbnN0IGNsYXNzTmFtZSA9IFtwcm9wcy5jbGFzc05hbWUsICdwb3N0LWZpbGVzJ10uZmlsdGVyKChjKSA9PiBjKS5qb2luKCcgJyk7XG4gICAgcmV0dXJuICgwLCBsaXRfaHRtbF9zZXJ2ZXJfMS5odG1sKSBgPHVsIGNsYXNzPVwiJHtjbGFzc05hbWV9XCI+XG4gICAgJHtwcm9wcy5maWxlcy5tYXAoKGZpbGUpID0+IHtcbiAgICAgICAgY29uc3QgZmlsZVR5cGUgPSBmaWxlLnR5cGUuc3BsaXQoJy8nKS5zaGlmdCgpIHx8ICdpbWFnZSc7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrRXh0ZW5zaW9uID0gVFJBTlNQQVJFTlQuaW5jbHVkZXMoZmlsZS5leHRlbnNpb24pID8gJ3BuZycgOiAnanBnJztcbiAgICAgICAgY29uc3QgZmFsbGJhY2tNaW1lVHlwZSA9IFRSQU5TUEFSRU5ULmluY2x1ZGVzKGZpbGUuZXh0ZW5zaW9uKSA/ICdpbWFnZS9wbmcnIDogJ2ltYWdlL2pwZWcnO1xuICAgICAgICBjb25zdCBvcmlnaW5hbFVybCA9IGAke2NvbmZpZ18xLmRlZmF1bHQuYXBpLmhvc3R9L29yaWdpbmFsLyR7ZmlsZS5oYXNofS4ke2ZpbGUuZXh0ZW5zaW9ufWA7XG4gICAgICAgIGNvbnN0IHRodW1ibmFpbFVybCA9IGAke2NvbmZpZ18xLmRlZmF1bHQuYXBpLmhvc3R9L3RodW1ibmFpbHMvJHtmaWxlLmhhc2h9LndlYnBgO1xuICAgICAgICBjb25zdCB0aHVtYm5haWxGYWxsYmFja1VybCA9IGAke2NvbmZpZ18xLmRlZmF1bHQuYXBpLmhvc3R9L3RodW1ibmFpbHMvJHtmaWxlLmhhc2h9LiR7ZmFsbGJhY2tFeHRlbnNpb259YDtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBmaWxlLndpZHRoIHx8IERFRkFVTFRfVEhVTUJOQUlMX1NJWkU7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGZpbGUuaGVpZ2h0IHx8IERFRkFVTFRfVEhVTUJOQUlMX1NJWkU7XG4gICAgICAgIGNvbnN0IHRodW1ibmFpbFdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCAvIE1hdGgubWF4KDEsIHdpZHRoIC8gVEhVTUJOQUlMX1NJWkUsIGhlaWdodCAvIFRIVU1CTkFJTF9TSVpFKSk7XG4gICAgICAgIGNvbnN0IHRodW1ibmFpbEhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0IC8gTWF0aC5tYXgoMSwgd2lkdGggLyBUSFVNQk5BSUxfU0laRSwgaGVpZ2h0IC8gVEhVTUJOQUlMX1NJWkUpKTtcbiAgICAgICAgcmV0dXJuICgwLCBsaXRfaHRtbF9zZXJ2ZXJfMS5odG1sKSBgPGxpIGNsYXNzPVwiJHtgcG9zdC1maWxlc19faXRlbSBwb3N0LWZpbGUgcG9zdC1maWxlXyR7ZmlsZVR5cGV9YH1cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBvc3QtZmlsZV9faW5mb1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb3N0LWZpbGVfX25hbWVcIj5cbiAgICAgICAgICAgIDxhIGNsYXNzPVwicG9zdC1maWxlX19pbmZvLWxpbmtcIiBocmVmPVwiJHtvcmlnaW5hbFVybH1cIiB0YXJnZXQ9XCJfYmxhbmtcIj4ke2Zvcm1hdEZpbGVOYW1lKGZpbGUubmFtZSl9PC9hPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInBvc3QtZmlsZV9fZGltZW5zaW9uc1wiPiR7Zm9ybWF0RmlsZURpbWVuc2lvbnMoZmlsZSl9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxhIGNsYXNzPVwicG9zdC1maWxlX19saW5rXCIgaHJlZj1cIiR7b3JpZ2luYWxVcmx9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgICAgPHBpY3R1cmUgY2xhc3M9XCJwb3N0LWZpbGVfX3BpY3R1cmVcIj5cbiAgICAgICAgICAgIDxzb3VyY2Ugc3Jjc2V0PVwiJHt0aHVtYm5haWxVcmx9XCIgdHlwZT1cImltYWdlL3dlYnBcIiAvPlxuICAgICAgICAgICAgPHNvdXJjZSBzcmNzZXQ9XCIke3RodW1ibmFpbEZhbGxiYWNrVXJsfVwiIHR5cGU9XCIke2ZhbGxiYWNrTWltZVR5cGV9XCIgLz5cblxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICBjbGFzcz1cInBvc3QtZmlsZV9faW1hZ2VcIlxuICAgICAgICAgICAgICBzcmM9XCIke3RodW1ibmFpbEZhbGxiYWNrVXJsfVwiXG4gICAgICAgICAgICAgIGFsdD1cIlwiXG4gICAgICAgICAgICAgIHRpdGxlPVwiJHtmaWxlLm5hbWV9XCJcbiAgICAgICAgICAgICAgd2lkdGg9XCIke3RodW1ibmFpbFdpZHRofVwiXG4gICAgICAgICAgICAgIGhlaWdodD1cIiR7dGh1bWJuYWlsSGVpZ2h0fVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvcGljdHVyZT5cbiAgICAgICAgPC9hPlxuICAgICAgPC9saT5gO1xuICAgIH0pfVxuICA8L3VsPmA7XG59XG5leHBvcnRzLnBvc3RGaWxlcyA9IHBvc3RGaWxlcztcbmV4cG9ydHMuZGVmYXVsdCA9IHBvc3RGaWxlcztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/templates/post-files.ts\n");

/***/ }),

/***/ "@popeindustries/lit-html-server":
/*!**************************************************!*\
  !*** external "@popeindustries/lit-html-server" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("@popeindustries/lit-html-server");

/***/ }),

/***/ "dotenv":
/*!*************************!*\
  !*** external "dotenv" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("dotenv");

/***/ }),

/***/ "koa":
/*!**********************!*\
  !*** external "koa" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("koa");

/***/ }),

/***/ "koa-conditional-get":
/*!**************************************!*\
  !*** external "koa-conditional-get" ***!
  \**************************************/
/***/ ((module) => {

module.exports = require("koa-conditional-get");

/***/ }),

/***/ "koa-etag":
/*!***************************!*\
  !*** external "koa-etag" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("koa-etag");

/***/ }),

/***/ "koa-helmet":
/*!*****************************!*\
  !*** external "koa-helmet" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("koa-helmet");

/***/ }),

/***/ "koa-router":
/*!*****************************!*\
  !*** external "koa-router" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("koa-router");

/***/ }),

/***/ "koa-static":
/*!*****************************!*\
  !*** external "koa-static" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("koa-static");

/***/ }),

/***/ "node-fetch-commonjs":
/*!**************************************!*\
  !*** external "node-fetch-commonjs" ***!
  \**************************************/
/***/ ((module) => {

module.exports = require("node-fetch-commonjs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("process");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ })()
;